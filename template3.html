<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HistorieLiten3</title>
    <link rel="stylesheet" href="styles.css" >
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=SUSE:wght@100..800&display=swap" rel="stylesheet">
    <script src="DarkMode.js" defer></script>
</head>
<body class="container-HistorieLiten2 background-HistorieLiten2">
    <header class="head-HistorieLiten2">
        <a href="index.html"><img src="img/ERA.png" alt="ERA logo" class="logoHistorieLiten2-img"></a>
    </header>
    <main class="HistorieLiten2-main ">

        <div class="HistorieLiten2-starttekst "> 
            <h1 class="HistorieLiten2-H1">Hvem drepte Karl XII? </h1> 
        </div> 
        <div class="HistorieLiten2-ptext"> 
            <p>Siden desember 1718 har det vært spekulasjoner rundt hvem som faktisk drepte Kong Karl XII av Sverige.<br> 
                Var kula som traff han skutt fra et norsk våpen, eller ble han drept av sine egne? </p> 
        </div>
        
        <div class="carousel" id="carousel-container">
            <div class="image-container" id="image-container"></div>
            <div class="text">
                <p id="carousel-text"></p>
            </div>
        </div>
        
        <div style="height: 5000px;"></div>
    

    </main>
    <script>

        //Gjør så ERA logoen forsvinner etter 35 pixler scroling
let lastScrollTop = 0;
window.addEventListener('scroll', function() {
    let header = document.querySelector('.head-HistorieLiten2');
    let st = window.pageYOffset || document.documentElement.scrollTop;


    if (st > 15) {
        header.classList.add('hide-header');
    } else {
        header.classList.remove('hide-header');
    }

    lastScrollTop = st <= 0 ? 0 : st; 
});

//Gjør at bakgrunnsbilde for starttekst fader ut
const container = document.querySelector('.background-HistorieLiten2');

window.addEventListener('scroll', () => {
    if (window.scrollY > 500) {
        container.classList.add('faded');
    } else {
        container.classList.remove('faded');
    }
});




//Array som skifter zoom og tekst
const imageContainer = document.getElementById('image-container');
const carouselText = document.getElementById('carousel-text');
const texts = [
    '', 
    'Tekst for Bilde 2',
    'Tekst for Bilde 3',
    'Tekst for Bilde 4',
    'Tekst for Bilde 5',
    'Tekst for Bilde 6'
];
const zoomLevels = [
    {size: '100%', position: '50% 50%'},
    {size: '250%', position: '1% 1%'},   
    {size: '150%', position: '20% 20%'},   
    {size: '150%', position: '80% 20%'},  
    {size: '150%', position: '50% 50%'},   
    {size: '150%', position: '20% 80%'} 
];

//Gjør så bildet ikke viser seg før man har scrollet ned 2000px
function updateContent(index) {
    if (window.scrollY > 2000) {  
        imageContainer.style.backgroundSize = zoomLevels[index].size;
        imageContainer.style.backgroundPosition = zoomLevels[index].position;
        carouselText.textContent = texts[index];
        imageContainer.style.visibility = 'visible';  
        imageContainer.style.opacity = '1';  
    } else {
        imageContainer.style.opacity = '0'; 
        setTimeout(() => {
            if (window.scrollY <= 2000) {
                imageContainer.style.visibility = 'hidden';  
            }
        }, 1000);  
    }
}

window.addEventListener('scroll', () => {
    const scrollPosition = window.scrollY || document.documentElement.scrollTop;
    const maxScroll = document.documentElement.scrollHeight - window.innerHeight;
    const scrollFraction = (scrollPosition - 2000) / (maxScroll - 2000); // Juster scrollfraksjonen etter 2000px
    const index = Math.min(
        Math.max(0, Math.floor(scrollFraction * (zoomLevels.length - 1))), // Sikre at indeksen er mellom 0 og lengden av arrayet
        zoomLevels.length - 1
    );

    updateContent(index);
});

updateContent(0);


    </script>
</body>
</html>